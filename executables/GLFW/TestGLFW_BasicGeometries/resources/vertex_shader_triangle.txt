in vec3 position; // fully ignore this
in vec3 normal;

uniform vec3 p1;
uniform vec3 p2;
uniform vec3 p3;
uniform mat4 projection;
uniform mat4 local_to_world;
uniform mat4 world_to_camera;
uniform float Y_Scale;

out vec3 vs_normal;

void main() 
{
  vec3 p;
  if (gl_VertexID == 0)
	p = p1;
  else if (gl_VertexID == 1)
	p = p2;
  else
	p = p3;

  p.y *= Y_Scale;

  vs_normal = normal;

  vec4 tmp = vec4(p, 1.0);
  tmp = local_to_world  * tmp;
  tmp = world_to_camera * tmp;
  tmp = projection      * tmp;

  gl_Position = tmp;
}