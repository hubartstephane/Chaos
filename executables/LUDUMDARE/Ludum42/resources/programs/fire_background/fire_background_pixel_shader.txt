out vec4 output_color; // "output_color" replaces "gl_FragColor" because glBindFragDataLocation(...) has been called

uniform sampler2D fire;

in vec2 vs_position;
in vec2 vs_texcoord;
in vec4 vs_color;

uniform vec4 camera_box;
uniform vec4 world_box;

void main()
{
  vec2 p = camera_box.xy + camera_box.zw * vs_position;

  float l = length(p - world_box.xy);

  
 
  //output_color = vs_position;
  //texture(fire, vs_texcoord);

  output_color.xy = p; //vs_position * l;
  output_color.x  = l / 1000.0;
  output_color.y  = l / 1000.0;
  output_color.z  = 0.0f;
  output_color.w  = 1.0f;
}